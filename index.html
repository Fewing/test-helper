<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能刷题系统</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- 导航栏 -->
        <nav class="navbar">
            <div class="nav-brand">
                <h1>📚 智能刷题系统</h1>
            </div>
            <div class="nav-menu">
                <button class="nav-btn active" data-page="home">首页</button>
                <button class="nav-btn" data-page="quiz">刷题</button>
                <button class="nav-btn" data-page="wrong">错题库</button>
                <button class="nav-btn" data-page="stats">统计</button>
            </div>
        </nav>

        <!-- 首页 -->
        <div id="home-page" class="page active">
            <div class="welcome-section">
                <h2>欢迎使用智能刷题系统</h2>
                <p>支持Excel题库上传，提供随机刷题和错题复习功能</p>
            </div>

            <div class="upload-section">
                <div class="upload-card">
                    <h3>📁 上传题库文件</h3>
                    <div class="upload-area" id="upload-area">
                        <div class="upload-icon">📤</div>
                        <p>点击或拖拽Excel文件到此处</p>
                        <input type="file" id="file-input" accept=".xlsx,.xls" hidden>
                        <button class="upload-btn" onclick="document.getElementById('file-input').click()">选择文件</button>
                    </div>
                    <div class="file-info" id="file-info" style="display: none;">
                        <p>已加载题目：<span id="question-count">0</span> 道</p>
                        <button class="btn btn-primary" onclick="startQuiz('random')">开始随机刷题</button>
                    </div>
                </div>
            </div>

            <div class="mode-section">
                <h3>🎯 刷题模式</h3>
                <div class="mode-cards">
                    <div class="mode-card" onclick="startQuiz('random')">
                        <div class="mode-icon">🎲</div>
                        <h4>随机刷题</h4>
                        <p>从题库中随机选择题目进行练习</p>
                    </div>
                    <div class="mode-card" onclick="startQuiz('wrong')">
                        <div class="mode-icon">❌</div>
                        <h4>错题库</h4>
                        <p>专门练习之前答错的题目</p>
                        <span class="wrong-count" id="wrong-count">0 道错题</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 刷题页面 -->
        <div id="quiz-page" class="page">
            <div class="quiz-header">
                <div class="quiz-progress">
                    <span id="current-question">1</span> / <span id="total-questions">10</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
                <div class="quiz-actions">
                    <button class="btn btn-secondary" onclick="showPage('home')">返回首页</button>
                    <button class="btn btn-secondary" onclick="nextQuestion()">下一题</button>
                </div>
            </div>

            <div class="quiz-content">
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-type" id="question-type">单选题</span>
                        <span class="question-score" id="question-score">1分</span>
                    </div>
                    <div class="question-text" id="question-text">
                        题目内容将在这里显示...
                    </div>
                    <div class="options-container" id="options-container">
                        <!-- 选项将动态生成 -->
                    </div>
                    <div class="question-actions">
                        <button class="btn btn-primary" id="submit-btn" onclick="submitAnswer()">提交答案</button>
                        <button class="btn btn-secondary" id="next-btn" onclick="nextQuestion()" style="display: none;">下一题</button>
                    </div>
                </div>

                <div class="result-card" id="result-card" style="display: none;">
                    <div class="result-header">
                        <span class="result-icon" id="result-icon">✅</span>
                        <span class="result-text" id="result-text">回答正确！</span>
                    </div>
                    <div class="result-details">
                        <p><strong>正确答案：</strong><span id="correct-answer"></span></p>
                        <p><strong>您的答案：</strong><span id="user-answer"></span></p>
                        <div id="explanation" style="display: none;">
                            <p><strong>解析：</strong><span id="explanation-text"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 错题库页面 -->
        <div id="wrong-page" class="page">
            <div class="page-header">
                <h2>❌ 错题库</h2>
                <div class="page-actions">
                    <button class="btn btn-secondary" onclick="showPage('home')">返回首页</button>
                    <button class="btn btn-primary" onclick="startQuiz('wrong')">开始错题练习</button>
                    <button class="btn btn-danger" onclick="clearWrongQuestions()">清空错题库</button>
                </div>
            </div>
            <div class="wrong-list" id="wrong-list">
                <!-- 错题列表将动态生成 -->
            </div>
        </div>

        <!-- 统计页面 -->
        <div id="stats-page" class="page">
            <div class="page-header">
                <h2>📊 学习统计</h2>
                <button class="btn btn-secondary" onclick="showPage('home')">返回首页</button>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-answered">0</div>
                    <div class="stat-label">总答题数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="correct-rate">0%</div>
                    <div class="stat-label">正确率</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="wrong-total">0</div>
                    <div class="stat-label">错题总数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="study-time">0</div>
                    <div class="stat-label">学习时长(分钟)</div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

